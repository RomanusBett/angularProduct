<div class="product-page-box">
    <div class="container py-4 ">
        <div class="border-bottom d-flex flex-column flex-md-row justify-content-between mb-4 pb-4">
            <div>
                <h4 class="our-products">Add a new item</h4>
                <p>Create a new item of your choice to our list of existing products</p>
            </div>
            <button (click)="toggleCreateModal()" class="btn checkout-btn checkout-radius">
                Add Item
            </button>
        </div>
        <div class="d-flex justify-content-center mb-3">
            <h4 class="our-products">Our Products</h4>
        </div>
        @if(isLoading()){
        <div class="d-flex justify-content-center">
            <div class="spinner-border" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>
        } @else {
        <div class="row g-4">
            @for(product of filtered(); track product.id){
            <div class="col-sm-6 col-md-4 col-lg-3">
                <app-product-cards [productItems]="product"></app-product-cards>
            </div>
            }
        </div>
        }
        @if(showCreateModal){
        <div class="modal-backdrop-wrapper" (click)="closeCreateModal()">
            <app-yard-card (click)="$event.stopPropagation()">
                <div class="container border-bottom d-flex justify-content-between align-items-center">
                    <h5>Edit product</h5>
                    <app-round-button (click)="closeCreateModal()" roundBtnText="X"
                        alertType="secondary"></app-round-button>
                </div>
                <div class="d-flex flex-column flex-md-row gap-4 mt-3">
                    <div>
                        <form [formGroup]="createProductForm">
                            <app-yard-input [formCtrl]="createProductForm.controls.name" inputId="newProductName" inputPlaceholder="product name" inputType="text"
                                inputLabel="Product Name">
                            </app-yard-input>
                            <app-yard-input [formCtrl]="createProductForm.controls.price" inputId="newProductPrice" inputPlaceholder="0" inputType="number"
                                inputLabel="Price">
                            </app-yard-input>
                            <app-yard-input [formCtrl]="createProductForm.controls.image" inputId="newProductImage" inputPlaceholder="image url" inputType="text"
                                inputLabel="Image url">
                            </app-yard-input>
                            <div class="form-group">
                                <label for="productDescription" class="col-form-label col-form-label-sm">product
                                    description</label>
                                <textarea formControlName="description" class="form-control" id="newProductDescription yard-card-input"
                                    rows="4"></textarea>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="mt-3 d-flex border-top py-2 justify-content-between gap-3">
                    <button (click)="closeCreateModal()" type="button" class="btn btn-light checkout-radius">Cancel</button>
                    <button (click)="logFormValue()" type="button" class="btn checkout-btn checkout-radius">Add Product</button>
                </div>
            </app-yard-card>
        </div>
        }
    </div>
</div>