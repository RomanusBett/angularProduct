<app-header>
    <div class="d-flex gap-3 align-items-center text-center">
        <a class="text-decoration-none text-dark fw-normal class-pointer" routerLink="/products">Shop</a>
    </div>
</app-header>
<div class="home-big-container grey-background d-flex justify-content-center align-items-center">
    <div class="container d-flex justify-content-center py-5">
        <app-yard-card>
            <div class="card-body">
                <div class="d-flex justify-content-between border-bottom">
                    @if(cartServ.cart().length !== 0){
                    <div class="d-flex align-items-center">
                        <div
                            class="container d-flex alert alert-success rounded-circle checkout-mark-box justify-content-center align-items-center">
                            <p class="m-0">âœ“</p>
                        </div>
                        <div class="container">
                            <h3>Successfully added to cart</h3>
                            <p>Your items in the bag</p>
                        </div>
                    </div>
                    } @else {
                    <div class="d-flex align-items-center">
                        <div
                            class="container d-flex alert alert-danger rounded-circle checkout-mark-box justify-content-center align-items-center">
                            <p class="m-0">!</p>
                        </div>
                        <div class="container">
                            <h3>No items in the cart</h3>
                            <p>Your have no items in the bag</p>
                        </div>
                    </div>
                    }
                </div>
            </div>
            @if(cartServ.cart().length !== 0){
            <div class="cart-product-items container py-3">
                @for(c of itemsInCart(); track c.id){
                <div class="d-flex justify-content-between flex-column flex-lg-row border-bottom gap-2">
                    <div class="d-flex gap-3 py-2">
                        <div class="">
                            <img class="product-checkout-img object-fit-cover rounded" [src]="c.image" [alt]="c.name">
                        </div>
                        <div>
                            <h5 class="fw-bold fs-6 m-0">{{c.name}}</h5>
                            <p class="product-checkout-price fw-bold fs-sm m-0">Ksh {{c.price}}</p>
                            <p class="text-secondary fs-6 m-0 w-75">{{c.description}}</p>
                        </div>

                    </div>
                    <div class="d-flex gap-1 align-items-center">
                        <app-round-button (buttonClicked)="decreaseItemQuantity(c.id)" roundBtnText='-'
                            alertType="secondary"></app-round-button>
                        <app-round-button [roundBtnText]='c.quantity!' alertType="light"></app-round-button>
                        <app-round-button (buttonClicked)="addItem(c.id)" roundBtnText='+'
                            alertType="secondary"></app-round-button>
                    </div>
                </div>
                }
            </div>

            <div class="container border-bottom d-flex justify-content-between">
                <p>Total</p>
                <p class="fw-bold">Ksh {{total().toFixed(2)}}</p>
            </div>
            }
            <button routerLink="/products" class="btn checkout-btn blue-background class-pointer checkout-radius mt-3">
                Continue shopping
            </button>
        </app-yard-card>
    </div>
</div>